#!/usr/bin/env bash
# Enable flake support for nix with impure mode
# This allows access to the base flake configuration
use flake . --impure

# Source .env files from imported modules (for shared secrets)

if [ -f "/Users/n8/carriercommons/object/.env" ]; then
  set -a
  source "/Users/n8/carriercommons/object/.env"
  set +a
fi

if [ -f "/Users/n8/carriercommons/video/.env" ]; then
  set -a
  source "/Users/n8/carriercommons/video/.env"
  set +a
fi

if [ -f "/Users/n8/carriercommons/audio/.env" ]; then
  set -a
  source "/Users/n8/carriercommons/audio/.env"
  set +a
fi

if [ -f "/Users/n8/carriercommons/print/.env" ]; then
  set -a
  source "/Users/n8/carriercommons/print/.env"
  set +a
fi


# Source .env file if it exists (for secrets not in version control)
# Local .env overrides imported .env files
if [ -f .env ]; then
  set -a
  source .env
  set +a
fi


export ACOUSTID_API_KEY="ByJrZ2FAuE"

export MEDIA_GCS_BUCKET="rml-media"

export OBJECT_GCS_BUCKET="rml-media"

export OBJECT_GCS_PREFIX="video/"

export PLAYWRIGHT_BROWSERS_PATH="$HOME/.cache/ms-playwright-carriercommons"

export PRINT_SOURCE_PATH="$HOME/Soulseek Downloads/complete"

export VIDEO_SOURCE_PATH="$HOME/Soulseek Downloads/complete"
